{{define "calendar"}}
<div class="calendar">
    <div class="calendar-header">
        <a href="?month={{.PrevMonth}}&year={{.PrevYear}}" class="calendar-nav">&larr;</a>
        <span class="calendar-title">{{.MonthName}} {{.Year}}</span>
        <a href="?month={{.NextMonth}}&year={{.NextYear}}" class="calendar-nav">&rarr;</a>
    </div>
    <div class="calendar-grid">
        <div class="calendar-weekday">Sun</div>
        <div class="calendar-weekday">Mon</div>
        <div class="calendar-weekday">Tue</div>
        <div class="calendar-weekday">Wed</div>
        <div class="calendar-weekday">Thu</div>
        <div class="calendar-weekday">Fri</div>
        <div class="calendar-weekday">Sat</div>
        {{range .Days}}
        <div class="calendar-day{{if .IsOtherMonth}} other-month{{end}}{{if .HasEntry}} has-entry{{end}}{{if .IsToday}} is-today{{end}}"
             {{if not .IsOtherMonth}}data-date="{{.Date}}"{{end}}
             {{if .HasEntry}}title="Day: {{formatDecimal .Entry.DayHours}}h, Night: {{formatDecimal .Entry.NightHours}}h"{{end}}>
            <span class="day-number">{{.Day}}</span>
            {{if .HasEntry}}
            <span class="day-indicator"></span>
            {{end}}
        </div>
        {{end}}
    </div>
</div>
{{end}}
